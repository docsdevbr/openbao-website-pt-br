---
# Copyright (c) 2026 OpenBao a Series of LF Projects, LLC.
# Copyright (c) 2015 HashiCorp, Inc.
#
# Documentation licensed under the Mozilla Public License 2.0.
# The original work was translated from English into Brazilian Portuguese.
# https://github.com/openbao/openbao/blob/-/LICENSE

source_url: https://github.com/openbao/openbao/blob/release/2.5.x/website/content/docs/get-started/developer-qs.mdx
revision: e2d983ae2d1c12cf83887e1899ee1b0fb98373d9
status: ready

description: Aprenda como armazenar e recuperar seu primeiro segredo.
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Guia rápido para pessoas desenvolvedoras

Este guia rápido explorará como usar as bibliotecas de cliente do OpenBao no
código da sua aplicação para armazenar e recuperar seu primeiro valor secreto.
O OpenBao alivia as pessoas desenvolvedoras da responsabilidade pela segurança,
fornecendo um armazenamento de segredos seguro e centralizado para os dados
confidenciais de uma aplicação: credenciais, certificados, chaves de
criptografia e muito mais.

## Pré-requisitos

- Um ambiente de desenvolvimento compatível com uma das linguagens deste guia
  rápido (atualmente **Go** e **Bash (curl)**).

## Passo 1: inicie o OpenBao

:::danger

**Aviso**: Este servidor "dev" em memória é útil para praticar com o OpenBao
localmente pela primeira vez, mas é inseguro e **nunca deve ser usado em
produção**.

:::

Execute o servidor OpenBao em um modo "dev" (não produção):

```shell-session
$ bao server -dev -dev-root-token-id="dev-only-token"
```

A flag `-dev-root-token-id` para servidores de desenvolvimento instrui o
servidor OpenBao a permitir acesso root completo a qualquer pessoa que apresente
um token com o valor especificado (neste caso, "dev-only-token").

:::danger

**Aviso**: O [token root](../concepts/tokens.mdx#root-tokens) é útil para
desenvolvimento, mas permite acesso total a todos os dados e funcionalidades do
OpenBao, portanto, deve ser cuidadosamente protegido em produção.
Idealmente, mesmo uma pessoa administradora do OpenBao usaria seu próprio token
com privilégios limitados em vez do token root.

:::

O OpenBao agora está escutando em HTTP na porta **8200**.
Com toda a configuração concluída, é hora de começar a programar!

## Passo 2: instale uma biblioteca cliente

Para ler e gravar segredos em sua aplicação, você precisa primeiro configurar um
cliente para se conectar ao OpenBao.
Vamos instalar a biblioteca cliente do OpenBao para a linguagem de sua escolha.

<Tabs>
<TabItem value="Go" group="go" heading="Go" group="go">

Biblioteca cliente [Go](https://pkg.go.dev/github.com/openbao/openbao/api)
(oficial):

```shell-session
$ go get github.com/openbao/openbao/api/v2
```

Agora, vamos adicionar as declarações de importação da biblioteca cliente no
início do arquivo.

```go title="declarações de importação da biblioteca cliente" showLineNumbers
import openbao "github.com/openbao/openbao/api/v2"
```

</TabItem>
</Tabs>

## Passo 3: autentique-se no OpenBao

Diversos [métodos de autenticação](../auth/index.mdx) podem ser usados para
comprovar a identidade da sua aplicação para o servidor OpenBao.
Para simplificar nosso exemplo, usaremos o token raiz criado na **Etapa 1**.
Cole o código a seguir para inicializar um novo cliente OpenBao que usará
autenticação baseada em token para todas as suas solicitações:

<Tabs>
<TabItem value="Go" heading="Go">

```go
config := openbao.DefaultConfig()

config.Address = "http://127.0.0.1:8200"

client, err := openbao.NewClient(config)
if err != nil {
    log.Fatalf("Não foi possível inicializar o cliente OpenBao: %v", err)
}

client.SetToken("dev-only-token")
```

</TabItem>
<TabItem value="Bash" group="bash" heading="Bash" group="bash">

```shell-session
$ export VAULT_TOKEN="dev-only-token"
```

</TabItem>
</Tabs>

## Etapa 4: Armazene um segredo

Segredos são dados sensíveis, como chaves de API e senhas, que não devemos
armazenar em nosso código ou arquivos de configuração.
Em vez disso, queremos armazenar esses valores no OpenBao.

Usaremos o cliente OpenBao que acabamos de inicializar para gravar um segredo no
OpenBao, da seguinte forma:

<Tabs>
<TabItem value="Go" heading="Go">

```go
secretData := map[string]interface{}{
    "password": "OpenBao123",
}


_, err = client.KVv2("secret").Put(context.Background(), "my-secret-password", secretData)
if err != nil {
    log.Fatalf("Não foi possível escrever o segredo: %v", err)
}

fmt.Println("Segredo escrito com sucesso.")
```

</TabItem>
<TabItem value="Bash" group="bash" heading="Bash" group="bash">

```shell-session
$ curl \
    --header "X-Vault-Token: $VAULT_TOKEN" \
    --header "Content-Type: application/json" \
    --request POST \
    --data '{"data": {"password": "OpenBao123"}}' \
    http://127.0.0.1:8200/v1/secret/data/my-secret-password &&
    echo "Segredo escrito com sucesso."
```

</TabItem>
</Tabs>

Uma forma comum de armazenar segredos é como pares chave-valor usando o
[mecanismo de segredos KV (v2)](../secrets/kv/kv-v2.mdx).
No código que acabamos de adicionar, `password` é a chave no par chave-valor e
`OpenBao123` é o valor.

Também fornecemos o caminho para o nosso segredo no OpenBao.
Faremos referência a esse caminho em breve, quando aprendermos como recuperar
nosso segredo.

Execute o código agora e você deverá ver `Segredo gravado com sucesso`.
Caso contrário, verifique se você usou o valor correto para o token raiz e o
endereço do servidor OpenBao.

## Passo 5: Recupere um segredo

Agora que sabemos como escrever um segredo, vamos praticar a leitura de um.

Abaixo da linha onde você escreveu um segredo para o OpenBao, vamos adicionar
mais algumas linhas, onde recuperaremos o segredo e descompactaremos o valor:

<Tabs>
<TabItem value="Go" heading="Go">

```go
secret, err := client.KVv2("secret").Get(context.Background(), "my-secret-password")
if err != nil {
    log.Fatalf("Não foi possível ler o segredo: %v", err)
}

value, ok := secret.Data["password"].(string)
if !ok {
    log.Fatalf("A asserção do tipo de valor falhou: %T %#v", secret.Data["password"], secret.Data["password"])
}
```

</TabItem>
<TabItem value="Bash" group="bash" heading="Bash" group="bash">

```shell-session
$ curl \
    --header "X-Vault-Token: $VAULT_TOKEN" \
    http://127.0.0.1:8200/v1/secret/data/my-secret-password > secrets.json
```

</TabItem>
</Tabs>

Por fim, confirme se o valor que extraímos da resposta de leitura está correto:

<Tabs>
<TabItem value="Go" heading="Go">

```go
if value != "OpenBao123" {
    log.Fatalf("Valor de senha inesperado %q recuperado do OpenBao.", value)
}

fmt.Println("Acesso concedido!")
```

Se o segredo foi obtido com sucesso, você deverá ver a mensagem
`Acesso concedido!` após executar o código.

</TabItem>
<TabItem value="Bash" group="bash" heading="Bash" group="bash">

```shell-session
$ cat secrets.json | jq '.data.data'
```

Se o segredo foi obtido com sucesso, ele deve retornar a string `OpenBao123`.

</TabItem>
</Tabs>

Caso contrário, verifique se você forneceu o caminho correto para o seu segredo.

**Pronto! Você acabou de escrever e recuperar seu primeiro segredo OpenBao!**

# Exemplos adicionais

Para aprender como integrar aplicações com o OpenBao sem precisar alterar o
código da sua aplicação o tempo todo, consulte a documentação do
[Agente OpenBao](../agent-and-proxy/agent/index.mdx).
