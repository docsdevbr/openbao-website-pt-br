---
# Copyright (c) 2026 OpenBao a Series of LF Projects, LLC.
# Copyright (c) 2015 HashiCorp, Inc.
#
# Documentation licensed under the Mozilla Public License 2.0.
# The original work was translated from English into Brazilian Portuguese.
# https://github.com/openbao/openbao/blob/-/LICENSE

source_url: https://github.com/openbao/openbao/blob/release/2.5.x/website/content/docs/install.mdx
revision: e2d983ae2d1c12cf83887e1899ee1b0fb98373d9
status: ready

description: >-
  Baixe um binário pré-compilado, compile a partir do código-fonte ou use um
  pacote.
---

# Instalando o OpenBao

Existem várias opções para instalar o OpenBao:

1. Instalar a partir de um [gerenciador de pacotes](#package-manager).

2. Implantar usando um [registro de contêineres](#container-registries).

3. Usar um [binário pré-compilado](#precompiled-binaries).

4. Instalar [a partir do código-fonte](#compiling-from-source).

5. [Helm para Kubernetes](platform/k8s/helm/index.mdx).

## Gerenciador de pacotes

### Homebrew - MacOS

```shell-session
$ brew info openbao
$ brew install openbao
```

### FreeBSD

```shell-session
$ pkg install openbao
```

### Linux

:::info

O OpenBao ainda não possui um repositório de pacotes.
Por enquanto, você precisa baixar e instalar os pacotes manualmente.

:::

O OpenBao gerencia pacotes para Ubuntu, Debian, Fedora, RHEL, Amazon Linux e
outras distribuições.
[Baixe](/downloads) o pacote apropriado para o seu sistema operacional e
arquitetura.

## Registros de contêineres

O OpenBao implanta imagens de contêineres pré-construídas baseadas no
[Alpine Linux](https://alpinelinux.org/) nos seguintes registros:

 1. [`ghcr.io/openbao/openbao`](https://github.com/openbao/openbao/pkgs/container/openbao)
 1. [`quay.io/openbao/openbao`](https://quay.io/repository/openbao/openbao)
 1. [`docker.io/openbao/openbao`](https://hub.docker.com/r/openbao/openbao)

Para imagens de contêiner baseadas em
[RHEL UBI](https://www.redhat.com/en/blog/introducing-red-hat-universal-base-image),
publicamos nos seguintes registros:

 1. [`ghcr.io/openbao/openbao-ubi`](https://github.com/openbao/openbao/pkgs/container/openbao-ubi)
 1. [`quay.io/openbao/openbao-ubi`](https://quay.io/repository/openbao/openbao-ubi)
 1. [`docker.io/openbao/openbao-ubi`](https://hub.docker.com/r/openbao/openbao-ubi)

## Binários pré-compilados

Para instalar o binário pré-compilado, [baixe](/downloads) o pacote apropriado
para o seu sistema.
O OpenBao é distribuído como um arquivo zip.

Após o download do arquivo zip, descompacte-o no diretório desejado.
O binário `bao` contido nele é tudo o que é necessário para executar o OpenBao
(ou `bao.exe` para Windows).
Nenhum arquivo adicional é necessário para executar o OpenBao.

Copie o binário para o seu sistema.
Se você pretende acessá-lo pela linha de comando, certifique-se de adicioná-lo
ao seu `PATH`.

## Compilando a partir do código-fonte

:::warning

Estas instruções são para uma versão de **desenvolvimento**; não as utilize para
binários de lançamento.

Em vez disso,
[consulte nosso guia de empacotamento](contributing/packaging.mdx).

:::

Para compilar a partir do código-fonte, você precisará ter o
[Go](https://golang.org) instalado e devidamente configurado (incluindo a
variável de ambiente `GOPATH` definida), bem como uma cópia do
[`git`](https://www.git-scm.com/) em seu `PATH`.

Clone o repositório OpenBao do GitHub para o seu `GOPATH`:

```shell-session
$ mkdir -p $GOPATH/src/github.com/openbao && cd $_
$ git clone https://github.com/openbao/openbao.git
$ cd openbao
```

Inicialize o projeto.
Isso fará o download e a compilação das bibliotecas e ferramentas necessárias
para compilar o OpenBao:

```shell-session
$ make bootstrap
```

Compile o OpenBao para o seu sistema atual e coloque o binário em `./bin/`
(relativo ao checkout do git).
O alvo `make dev` é apenas um atalho que compila o `bao` somente para o seu
ambiente de compilação local (sem alvos de compilação cruzada).

```shell-session
$ make dev
```

## Verificando a instalação

Para verificar se o OpenBao está instalado, execute `bao -h` no seu sistema.
Você deverá ver a saída de ajuda.
Se estiver executando a partir da linha de comando, certifique-se de que ele
esteja no seu `PATH` para evitar receber um erro informando que o OpenBao não
foi encontrado.

```shell-session
$ bao -h
```

## Reforço de segurança pós-instalação

Após instalar o OpenBao, você pode querer tomar medidas adicionais para
protegê-lo contra vazamento de seus segredos.
O OpenBao normalmente faz isso muito bem, mas existe um recurso do sistema
operacional que compromete a proteção do OpenBao.
Trata-se da
[paginação de memória (também conhecida como swap)](https://en.wikipedia.org/wiki/Memory_paging).
Para fornecer segurança extra, você deve garantir que o swap do seu sistema
operacional esteja desativado ou que seu espaço de swap esteja criptografado.

### Linux

O arquivo de serviço systemd de exemplo fornecido com o código-fonte do OpenBao
vem configurado para desabilitar o swap para o processo do OpenBao.
Para verificar se o swap está desabilitado, execute `systemctl cat openbao` e
verifique a linha `MemorySwapMax=0`.
Alternativamente, para permitir que o processo do OpenBao use o swap,
certifique-se de que essa linha seja excluída.

Se você não estiver usando o systemd, pode obter o mesmo efeito definindo o
valor do cgroupv2 `memory.swap.max` como `0` usando a ferramenta de sua
preferência.
Você pode desabilitar o swap para todo o sistema operacional executando
`swapoff` (isso não é recomendado).
É possível criptografar o espaço de swap no Linux, mas, como de costume, existem
muitas opções, e um guia está fora do escopo desta documentação.
Consulte a documentação da sua distribuição.

### BSDs e outros sistemas Unix-like

Recomenda-se confirmar se a partição de swap está criptografada.
Isso pode ser feito em todos os principais BSDs.

* [Guia do FreeBSD para swap criptografado](https://docs.freebsd.org/en/books/handbook/disks/#swap-encrypting).
* [Guia do NetBSD para swap criptografado](https://netbsd.org/docs/guide/en/netbsd.html#chap-cgd-swap-encryption).
* [Informações do OpenBSD sobre swap criptografado (habilitado por padrão)](https://man.openbsd.org/sysctl.2#VM_SWAPENCRYPT~2).

### Windows

Você pode verificar se o seu espaço de swap está criptografado abrindo o
PowerShell e executando:

```shell-session
> fsutil behavior query encryptpagingfile
```

Se o valor for 0 (ou seja, `DISABLED`), recomenda-se habilitar a criptografia de
swap executando:

```shell-session
> fsutil behavior set encryptpagingfile 1
```

Em seguida, reinicie.

### Docker

Ao executar a imagem do Docker, inclua a flag `--memory-swappiness=0`.

### macOS

[O espaço de swap no macOS é sempre criptografado](https://support.apple.com/guide/mac-help/what-is-secure-virtual-memory-on-mac-mh11852/mac).

## Verificação de Checksum

### SHA-256

Baixe os arquivos de lançamento e checksum:

```shell-session
$ OS="freebsd"
$ ARCH="x86_64"
$ PLATFORM="$OS_$ARCH"
$ VERSION=$(curl -s https://api.github.com/repos/openbao/openbao/releases | jq -r '.[0] .tag_name' | cut -d'v' -f2-)
$ RELEASE="bao_$VERSION_$PLATFORM.tar.gz"
$ wget https://github.com/openbao/openbao/releases/download/v$VERSION/bao_$VERSION_$PLATFORM.tar.gz
$ wget https://github.com/openbao/openbao/releases/download/v$VERSION/checksums-$OS.txt
$ wget https://github.com/openbao/openbao/releases/download/v$VERSION/checksums-$OS.txt.gpgsig
```

Verifique o checksum usando `sha256sum`:

```shell-session
$ sha256sum --check checksums-$OS.txt 2>/dev/null
```

## Verificação de Assinatura

### GPG

Primeiro, baixe nossa
[chave GPG](pathname:///assets/openbao-gpg-pub-20240618.asc) e importe-a:

```shell-session
$ wget https://openbao.org/assets/openbao-gpg-pub-20240618.asc
$ gpg2 --import openbao-gpg-pub-20240618.asc
gpg: key D200CD702853E6D0: public key "OpenBao <openbao@lists.lfedge.org>" imported
gpg: Total number processed: 1
gpg:               imported: 1
```

Para verificar artefatos assinados com GPG, use `gpg2` na linha de comando.
Por exemplo, para verificar `checksums-freebsd.txt` com o arquivo
`checksums-freebsd.txt.gpgsig` armazenado localmente:

```shell-session
$ gpg2 --verify checksums-freebsd.txt.gpgsig checksums-freebsd.txt
gpg: Signature made Wed 17 Jul 2024 06:12:03 PM EDT
gpg:                using RSA key E617DCD4065C2AFC0B2CF7A7BA8BC08C0F691F94
gpg: Good signature from "OpenBao <openbao@lists.lfedge.org>" [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 66D1 5FDD 8728 7219 C8E1  5478 D200 CD70 2853 E6D0
     Subkey fingerprint: E617 DCD4 065C 2AFC 0B2C  F7A7 BA8B C08C 0F69 1F94
```

### Cosign e Rekor

Para verificar artefatos assinados com Cosign, use `rekor-cli` ou `curl` para
[obter a entrada do Rekor](https://edu.chainguard.dev/open-source/sigstore/rekor/how-to-verify-file-signatures-with-rekor-or-curl/).

Por exemplo, para verificar `checksums.txt` com o `checksums.txt.sig` armazenado
localmente:

```shell-session
$ SHASUM="$(openssl sha256 -r checksums.txt | awk '{print $1}')"
bc53476e7e69c98650bf69690caf1aa32dc08c19735375819ae3b29bb9c2b733
$ curl -X POST -H "Content-type: application/json" 'https://rekor.sigstore.dev/api/v1/index/retrieve' --data-raw "{\"hash\":\"sha256:$SHASUM\"}"
24296fb24b8ad77aedcc1a0cea8b33a04926d6f3b8db35107a1e864c007bb4aa84416a5153cc0bca
$ UUID=24296fb24b8ad77aedcc1a0cea8b33a04926d6f3b8db35107a1e864c007bb4aa84416a5153cc0bca
$ curl -X GET "https://rekor.sigstore.dev/api/v1/log/entries/${UUID}" > response.json
$ jq -r ".[\"$UUID\"].body" < response.json | base64 -d | jq -r '.spec.signature.publicKey.content' | base64 -d > certificate.pem
$ base64 -d < checksums-freebsd.txt.sig > checksums-freebsd.txt.rawsig
$ openssl pkeyutl -verify -certin -inkey certificate.pem -sigfile checksums-freebsd.txt.rawsig -in checksums-freebsd.txt -rawin
Signature Verified Successfully
```
